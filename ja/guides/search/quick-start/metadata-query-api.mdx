---
hide_in_page_nav: true
sidebarTitle: 4. Use the Metadata Query API
title: メタデータクエリAPIの使用
type: quick-start

fullyTranslated: true
---

import {Link} from "/snippets/Link.jsx";
import { ProgressBar } from '/snippets/progress-bar.jsx';

<ProgressBar
  pages={[
                        "guides/search/quick-start/create-metadata-template",
                        "guides/search/quick-start/locate-template-info",
                        "guides/search/quick-start/apply-template-to-file",
                        "guides/search/quick-start/metadata-query-api",
                        "guides/search/quick-start/next-steps"
                      ]}
/>

最後に、<Link href="/reference/post-metadata-queries-execute-read/">メタデータクエリAPIコール</Link>を作成します。このAPIコールの本文の例を以下に示します。

```json
{
  "from": "enterprise_22201764.contact_role",
  "query": "departments = :departments",
  "query_params": {"departments": "legal"},
  "ancestor_folder_id": "0",
  "fields": ["id"]
}
```

このAPIコールでは、以下の条件を満たすファイルIDが返されます。 

* Contact Roleテンプレートが適用されている
* departmentsの値がlegalである
* ルートフォルダの下のいずれかの場所にある (「0」は`ancestor_folder_id`であるため)

以下に示すように、この結果、呼び出しは成功し、手順2でテンプレートを追加したファイルに関する情報が表示されます。

<Frame center>
  ![検索クエリの結果](/images/guides/search/quick-start/query-result.png)
</Frame>

<Next>検索クエリを使用してコンテンツが見つかりました</Next>
