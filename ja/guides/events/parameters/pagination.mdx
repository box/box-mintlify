---
title: ストリーム位置のページネーション

fullyTranslated: true
---

import {RelatedLinks, MultiRelatedLinks} from "/snippets/related-links.jsx";
import {Link} from "/snippets/Link.jsx";

イベントストリームのページネーションは、`stream_position`パラメータの使用によって機能します。

最初に、`stream_position`クエリパラメータを指定せずにリクエストを<Link href="/reference/get-events">`GET /events`</Link> APIに送信します。

```sh
curl https://api.box.com/2.0/events \
    -H "authorization: Bearer ACCESS_TOKEN"
```

このAPIにより、使用可能なすべてのイベントが古い方から順に返されます。レスポンスには`next_stream_position`値も含まれており、これを使用して、ストリーム内の次の位置に対する次のAPIコールを実行できます。

```sh
curl https://api.box.com/2.0/events?stream_position=388720462721 \
    -H "authorization: Bearer ACCESS_TOKEN"
```

`stream_position`は、最も近いストリーム位置が返されるよう`now`に設定することもできます。

```sh
curl https://api.box.com/2.0/events?stream_position=now \
    -H "authorization: Bearer ACCESS_TOKEN"
```

この場合、APIによって空のリストと、次の呼び出しに使用できる`next_stream_position`が返されます。

<RelatedLinks
  title="関連するAPI"
  items={[
  { label: "List user and enterprise events", href: "/reference/get-events", badge: "GET" },
  { label: "Get events long poll endpoint", href: "/reference/options-events", badge: "OPTIONS" }
]}
/>

<RelatedLinks
  title="関連するガイド"
  items={[
  { label: "Get Enterprise Events", href: "/guides/events/enterprise-events/for-enterprise", badge: "GUIDE" },
  { label: "Get User Events", href: "/guides/events/user-events/for-user", badge: "GUIDE" }
]}
/>
