---
title: as-userヘッダー

fullyTranslated: true
---

import {RelatedLinks, MultiRelatedLinks} from "/snippets/related-links.jsx";
import {Link} from "/snippets/Link.jsx";

<RelatedLinks
  title="必須のガイド"
  items={[
  { label: "OAuth 2.0 with SDKs", href: "/guides/authentication/oauth2/with-sdk", badge: "GUIDE" }
]}
/>

`as-user`ヘッダーを利用すると、JWTアプリケーションは別のユーザーの代理になることができます。

```sh
curl https://api.box.com/2.0/folders/0 \
    -H "as-user: [USER_ID]"
    -H "authorization: Bearer [ACCESS_TOKEN]"
```

<Info>
  この場合、ユーザーIDはユーザーのBox識別子です。どのユーザーでも、ユーザーIDは、管理者だけが利用可能な`GET /users`エンドポイントを介して確認できます。また、認証済みのユーザーセッションで`GET /users/me`エンドポイントを呼び出して確認することもできます。
</Info>

## 前提条件

アプリケーションは、[開発者コンソール][devconsole]で、ユーザーとして操作を実行するように構成する必要があります。

<Frame border center>
  ![高度な機能](./enable-perform-actions-as-users.png)
</Frame>

さらに、認証済みユーザーは、管理者権限を持つユーザー、つまり、管理者または共同管理者である必要があります。詳細については、<Link href="/platform/user-types">ユーザータイプ</Link>のガイドを参照してください。

<Info>
  as-userヘッダーでは<Link href="/platform/user-types/#service-account">サービスアカウント</Link>の`user_id`を使用できません。
</Info>

## as-userを使用できるSDK

すべての<Link href="/guides/tooling/sdks">Box公式SDK</Link>では、`as-user`ヘッダーを使用してユーザーの代わりに処理を実行することがサポートされています。

<CodeGroup>
  ```csharp .NET
  var user_client = new BoxClient(config, session, asUser: '[USER_ID]');
  ```

  ```java Java
  client.asUser([USER_ID]");
  // client.asSelf();
  ```

  ```python Python
  user_to_impersonate = client.user(user_id='[USER_ID]')
  user_client = client.as_user(user_to_impersonate)
  ```

  ```js Node
  client.asUser('[USER_ID]');
  // client.asSelf();
  ```
</CodeGroup>

<Warning>
  SDKには、他のユーザーに対して新しいクライアントを作成するものもあれば、既存のクライアントを変更して、そのクライアントが元のユーザーに対して認証される状態に戻せるようにするものもあることに注意してください。
</Warning>

[devconsole]: https://app.box.com/developers/console

<RelatedLinks
  title="関連するガイド"
  items={[
  { label: "JWT Auth", href: "/guides/authentication/jwt/index", badge: "GUIDE" },
  { label: "Select Auth Method", href: "/guides/authentication/select", badge: "GUIDE" }
]}
/>
