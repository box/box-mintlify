---
hide_step_number: false
title: アプリトークン認証を使用した設定
type: guide

fullyTranslated: true
---

import {Link} from "/snippets/Link.jsx";

import {RelatedLinks, MultiRelatedLinks} from "/snippets/related-links.jsx";

<RelatedLinks
  title="必須のガイド"
  items={[
  { label: "Select Auth Method", href: "/guides/authentication/select", badge: "GUIDE" },
  { label: "Platform App", href: "/guides/applications/app-types/platform-apps", badge: "GUIDE" }
]}
/>

アクセス制限付きアプリは、認証にサーバー側の<Link href="/guides/authentication/app-token">アプリトークン</Link>を使用するよう設定できます。

<Card href="/guides/authentication/app-token" arrow title="アプリトークン認証のしくみを確認する" />

## 前提条件

サーバー側認証を使用してPlatformアプリを設定するには、Box Enterpriseアカウントから[開発者コンソール][devconsole]にアクセスできることを確認する必要があります。または、[Developerアカウント][devaccount]にサインアップすることもできます。

## アプリの作成手順

### 1. 開発者コンソールにログインする

Boxにログインし、[開発者コンソール][devconsole]に移動して、\[**Platformアプリの作成**] を選択します。

### 2. Platformアプリを作成する

アプリケーションの種類のリストから \[**アクセス制限付きアプリ**] を選択します。次の手順を促すウィンドウが表示されます。

<Frame border>
  ![アプリケーションの選択画面](/images/guides/authentication/select-app-type.png)
</Frame>

### 3. アプリ名を選択する

最後に、アプリケーションの一意の名前を選択し、\[**アプリの作成**] をクリックします。

<Frame border width="600" center>
  ![アプリ名のフォーム](/images/guides/authentication/limited-access-naming.png)
</Frame>

## アプリ承認

キーペアがアプリケーションに正常に追加されたら、Box Enterprise管理者はBox管理コンソール内でこのアプリケーションを承認する必要があります。

[開発者コンソール][devconsole]内でアプリケーションの \[**一般設定**] タブに移動し、\[**アプリ承認**] セクションまで下にスクロールします。

<Frame border width="400" center>
  ![キーの追加と管理](/images/guides/authentication/app-authorization.png)
</Frame>

\[**確認して送信**] をクリックして、承認を得るためにBox Enterprise管理者にメールを送信します。このプロセスの詳細については、<Link href="/guides/authorization">承認ガイド</Link>を参照してください。

## 基本的な構成

アプリケーションを使用するには、事前にいくつかの基本的な追加構成が必要になる場合があります。

### プライマリおよびセカンダリアプリトークン

アクセス制限付きアプリでの認証は、あらかじめ構成された<Link href="/guides/authentication/app-token">アプリトークン</Link>を使用して行われます。アプリトークンを構成するには、[開発者コンソール][devconsole]内でアプリケーションの \[**構成**] タブに移動します。

\[**プライマリアクセストークン**] セクションまで下にスクロールし、\[**キーを生成**] ボタンをクリックします。

<Frame border width="600" center>
  ![アプリトークンの作成](/images/guides/authentication/app-generate-key.png)
</Frame>

アプリトークンは、自動的に期限切れになるよう構成することも、有効期限なしで構成することもできます。作成後は、このキーを使用して<Link href="/guides/api-calls">APIコール</Link>を実行できます。

<Warning>
  **アプリ承認**

  アプリトークンは、Box管理コンソール内でアプリケーションの承認が成功するまで生成できません。
</Warning>

### CORSドメイン

アプリケーションがJavaScriptでフロントエンドのブラウザコードからAPIコールを実行する場合は、[クロスオリジンリソース共有][cors] (CORS) のために、これらの呼び出しの実行元となるドメインを許可リストに追加する必要があります。すべてのリクエストがサーバー側のコードから発行される場合は、このセクションをスキップできます。

許可リストにすべてのURIを追加するには、[開発者コンソール][devconsole]の \[**構成**] タブの下部にある \[**CORSドメイン**] セクションに移動します。

<Frame border>
  ![アプリ名のフォーム](/images/guides/authentication/app-cors.png)
</Frame>

[devconsole]: https://app.box.com/developers/console

[devaccount]: https://account.box.com/signup/n/developer

[devtoken]: /guides/authentication/tokens/developer-tokens

[scopes]: /guides/api-calls/permissions-and-errors/scopes

[cors]: https://en.wikipedia.org/wiki/Cross-origin_resource_sharing

<RelatedLinks
  title="関連するガイド"
  items={[
  { label: "Select Auth Method", href: "/guides/authentication/select", badge: "GUIDE" },
  { label: "OAuth 2.0 Auth", href: "/guides/authentication/oauth2/index", badge: "GUIDE" },
  { label: "Platform App Approval", href: "/guides/authorization/platform-app-approval", badge: "GUIDE" }
]}
/>
