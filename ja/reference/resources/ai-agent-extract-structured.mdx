---
title: "抽出 (構造化) リクエスト用のAIエージェント"
---

APIバージョン 2024.0

<Note>
このリソースは、バージョン**2024.0**のエンドポイントで使用されています。
詳細については、
**[Box APIのバージョン管理](/ja/guides/api-calls/api-versioning-strategy/)**を参照してください。

「[Box SDKのバージョニング戦略](/ja/guides/tooling/sdks/sdk-versioning/)について詳しく学ぶ。」
</Note>

抽出 (構造化) に使用されるAIエージェント。

<ParamField body="type" type="string">
例 `ai_agent_extract_structured`

抽出に使用されるAIエージェントのタイプ。

次の値に固定: `ai_agent_extract_structured`
</ParamField>

<ParamField body="basic_image" type="object">
基本テキストの処理に使用されるAIエージェントプロセッサ。

<Expandable>
  <ParamField body="llm_endpoint_params" type="AI LLMエンドポイントパラメータ (AWS)/AI LLMエンドポイントパラメータ (Google)/AI LLMエンドポイントパラメータ (IBM)/AI LLMエンドポイントパラメータ (OpenAI)object">
  モデル固有のLLMエンドポイントのパラメータ。
  </ParamField>

  <ParamField body="model" type="string">
  例 `azure__openai__gpt_4o_mini`
  
  基本テキストに対するAIエージェントで使用されるモデル。特定のモデル値については、[利用可能なモデルのリスト](/ja/guides/box-ai/ai-models/)を参照してください。
  </ParamField>

  <ParamField body="num_tokens_for_completion" type="integer">
  例 `8400`
  
  完了に必要なトークンの数。
  </ParamField>

  <ParamField body="prompt_template" type="string">
  例 `(\{user_question\}[\s\S]*?\{content\}|\{content\}[\s\S]*?\{user_question\})`
  
  プロンプトテンプレートには、リクエストのコンテキスト情報とユーザープロンプトが含まれます。`prompt_template`パラメータを渡す場合、`{user_question}`および`{content}`の入力を**含める必要があります**。`{current_date}`は、用途に応じて省略できます。
  </ParamField>

  <ParamField body="system_message" type="string">
  例 `You are a helpful travel assistant specialized in budget travel`
  
  LLMが、その役割と実行するべき内容を「理解」するのを支援するためのシステムメッセージ。
  </ParamField>

</Expandable>
</ParamField>

<ParamField body="basic_text" type="object">
基本テキストの処理に使用されるAIエージェントプロセッサ。

<Expandable>
  <ParamField body="llm_endpoint_params" type="AI LLMエンドポイントパラメータ (AWS)/AI LLMエンドポイントパラメータ (Google)/AI LLMエンドポイントパラメータ (IBM)/AI LLMエンドポイントパラメータ (OpenAI)object">
  モデル固有のLLMエンドポイントのパラメータ。
  </ParamField>

  <ParamField body="model" type="string">
  例 `azure__openai__gpt_4o_mini`
  
  基本テキストに対するAIエージェントで使用されるモデル。特定のモデル値については、[利用可能なモデルのリスト](/ja/guides/box-ai/ai-models/)を参照してください。
  </ParamField>

  <ParamField body="num_tokens_for_completion" type="integer">
  例 `8400`
  
  完了に必要なトークンの数。
  </ParamField>

  <ParamField body="prompt_template" type="string">
  例 `(\{user_question\}[\s\S]*?\{content\}|\{content\}[\s\S]*?\{user_question\})`
  
  プロンプトテンプレートには、リクエストのコンテキスト情報とユーザープロンプトが含まれます。`prompt_template`パラメータを渡す場合、`{user_question}`および`{content}`の入力を**含める必要があります**。`{current_date}`は、用途に応じて省略できます。
  </ParamField>

  <ParamField body="system_message" type="string">
  例 `You are a helpful travel assistant specialized in budget travel`
  
  LLMが、その役割と実行するべき内容を「理解」するのを支援するためのシステムメッセージ。
  </ParamField>

</Expandable>
</ParamField>

<ParamField body="long_text" type="object">
長いテキストの処理に使用されるAIエージェントプロセッサ。

<Expandable>
  <ParamField body="embeddings" type="object">
  
  <Expandable>
    <ParamField body="model" type="string">
    例 `azure__openai__text_embedding_ada_002`
    
    埋め込みを計算するためのAIエージェントに使用されるモデル。
    </ParamField>
  
    <ParamField body="strategy" type="object">
    
    <Expandable>
      <ParamField body="id" type="string">
      例 `basic`
      
      埋め込みを計算するためのAIエージェントに使用される戦略。
      </ParamField>
    
      <ParamField body="num_tokens_per_chunk" type="integer">
      例 `64`
      
      チャンクごとのトークンの数。
      </ParamField>
    
    </Expandable>
    </ParamField>
  
  </Expandable>
  </ParamField>

  <ParamField body="llm_endpoint_params" type="AI LLMエンドポイントパラメータ (AWS)/AI LLMエンドポイントパラメータ (Google)/AI LLMエンドポイントパラメータ (IBM)/AI LLMエンドポイントパラメータ (OpenAI)object">
  モデル固有のLLMエンドポイントのパラメータ。
  </ParamField>

  <ParamField body="model" type="string">
  例 `azure__openai__gpt_4o_mini`
  
  基本テキストに対するAIエージェントで使用されるモデル。特定のモデル値については、[利用可能なモデルのリスト](/ja/guides/box-ai/ai-models/)を参照してください。
  </ParamField>

  <ParamField body="num_tokens_for_completion" type="integer">
  例 `8400`
  
  完了に必要なトークンの数。
  </ParamField>

  <ParamField body="prompt_template" type="string">
  例 `(\{user_question\}[\s\S]*?\{content\}|\{content\}[\s\S]*?\{user_question\})`
  
  プロンプトテンプレートには、リクエストのコンテキスト情報とユーザープロンプトが含まれます。`prompt_template`パラメータを渡す場合、`{user_question}`および`{content}`の入力を**含める必要があります**。`{current_date}`は、用途に応じて省略できます。
  </ParamField>

  <ParamField body="system_message" type="string">
  例 `You are a helpful travel assistant specialized in budget travel`
  
  LLMが、その役割と実行するべき内容を「理解」するのを支援するためのシステムメッセージ。
  </ParamField>

</Expandable>
</ParamField>

<ResponseExample>

```json レスポンスの例
{
  "type": "ai_agent_extract_structured",
  "basic_image": {
    "llm_endpoint_params": {
      "type": "openai_params",
      "frequency_penalty": 1.5,
      "presence_penalty": 1.5,
      "stop": "<|im_end|>",
      "temperature": 0,
      "top_p": 1
    },
    "model": "azure__openai__gpt_4o_mini",
    "num_tokens_for_completion": 8400,
    "prompt_template": "It is `{current_date}`, consider these travel options `{content}` and answer the `{user_question}`.",
    "system_message": "You are a helpful travel assistant specialized in budget travel"
  },
  "basic_text": {
    "llm_endpoint_params": {
      "type": "openai_params",
      "frequency_penalty": 1.5,
      "presence_penalty": 1.5,
      "stop": "<|im_end|>",
      "temperature": 0,
      "top_p": 1
    },
    "model": "azure__openai__gpt_4o_mini",
    "num_tokens_for_completion": 8400,
    "prompt_template": "It is `{current_date}`, consider these travel options `{content}` and answer the `{user_question}`.",
    "system_message": "You are a helpful travel assistant specialized in budget travel"
  },
  "long_text": {
    "embeddings": {
      "model": "azure__openai__text_embedding_ada_002",
      "strategy": {
        "id": "basic",
        "num_tokens_per_chunk": 64
      }
    },
    "llm_endpoint_params": {
      "type": "openai_params",
      "frequency_penalty": 1.5,
      "presence_penalty": 1.5,
      "stop": "<|im_end|>",
      "temperature": 0,
      "top_p": 1
    },
    "model": "azure__openai__gpt_4o_mini",
    "num_tokens_for_completion": 8400,
    "prompt_template": "It is `{current_date}`, consider these travel options `{content}` and answer the `{user_question}`.",
    "system_message": "You are a helpful travel assistant specialized in budget travel"
  }
}
```

</ResponseExample>
