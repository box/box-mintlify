---
title: Security
alias_paths:
sidebarTitle: Overview
---
import {Link} from "/snippets/Link.jsx";

Whether your are a developer getting started with the Box API or a Box Admin
tasked with <Link href="/guides/authorization">authorizing</Link> applications, it is critical you understand the
security mechanisms in place to protect content stored in Box.

The Box API follows the same security principals and restrictions as the Box web
app. This means that you will not be able to bypass content [permissions][perm],
the [waterfall folder structure][waterfall], or Admin-only requirements by
leveraging the Box API.

## Access Tokens

At the core of every Box API call is an <Link href="/guides/authentication/tokens">Access Token</Link>. Because a username
and password cannot be used, the Box servers need a way of validating user
identity. The full capability of an Access Token encompasses user permissions,
token permissions, and application settings.

<Frame center shadow border>
![Access Token Components](/images/guides/security/token_vendiagram.png)
</Frame>

Access Tokens represent the authenticated user and determine what content a
user can successfully call. Similar to using the Box Web App, you will only be
able to successfully interact with content the user, associated with the Access
Token, either owns or is a collaborator on. This can be further restricted by
<Link href="/guides/authentication/tokens/downscope">downscoping</Link> a token.

<Link href="/guides/authentication/tokens">Access Tokens</Link> are only valid for 60 minutes, but can be <Link href="/reference/post-oauth2-revoke">revoked</Link>
earlier if needed. Once an Access Token expires, when using an OAuth 2.0
application, a <Link href="/guides/authentication/tokens/refresh">Refresh Token</Link> can be <Link href="/reference/post-oauth2-token--refresh">exchanged</Link> for another
Access Token. Refresh tokens are valid for 60 days or one use. Alternatively,
when using a server authentication application, the
<Link href="/reference/post-oauth2-token">request Access Token endpoint</Link> must be called for a new Access Token.
For security reasons we do not allow long-lived access tokens.

<Tip>
  Unsure why you are receiving a 404 error? A great place to start is checking
  to see what user is associated with your Access Token by using the get
  current user endpoint.
</Tip>

## Scopes

<Frame center shadow border>
![Scopes](/images/guides/security/scopes.png)
</Frame>

<Link href="/guides/api-calls/permissions-and-errors/scopes">Scopes</Link> are configured in the [Developer Console][dc] upon application
creation. They determine which of the 150+ endpoints Access Tokens of an
application can successfully call.

Because scopes work in conjunction with user permissions, granting the write
scope does not automatically provide a user with API access to all content in a
Box enterprise. Instead, it means that the authenticated user can receive
successful API responses when making write calls to content they have access to.

For example, take an application with only the manage users and manage groups
scopes enabled. If an Access Token of this application tried to make an API call
to get information about a folder, even if the associated user owned it, it
would receive a 403 error. This is because the read scope is required to
preform this action. Access Tokens of this application could only receive
successful responses on API calls related to users and groups.

## Restricted endpoints

There are some API endpoints that only Admins or Co-Admins, granted the
appropriate [permissions][coadminperm], can successfully use. As a general rule
of thumb, if only an Admin or Co-Admin can perform an action via the Box Admin
Console, an Access Token associated with one of these users is required to
complete an API call for the same action. This is called out in our API
<Link href="/reference">reference</Link> documentation for a given endpoint if it is required.

Some Admin-restricted endpoints include:

- Creating, deleting, or getting information about <Link href="/reference/resources/user">users</Link>
- Creating, deleting, or modifying <Link href="/reference/resources/group">groups</Link>
- Viewing user or enterprise <Link href="/reference/resources/event">events</Link>

Other endpoints can only be used by an Admin user's Access Token if the
enterprise has purchased add-on products such as Box Governance or Box Shield.
Some of these endpoints include:

- Interacting with <Link href="/reference/resources/classification">security classifications</Link>
- Interacting with <Link href="/reference/resources/legal-hold-policy">legal hold policies</Link> and <Link href="/reference/resources/legal-hold-policy-assignment">assignments</Link>
- Interacting with <Link href="/reference/resources/retention-policies">retention policies</Link> and <Link href="/reference/resources/retention-policy-assignment">assignments</Link>

## Application Access

<Frame center shadow border>
![Application Access Settings](/images/guides/security/app_access.png)
</Frame>

Application access is only configured in the [Developer Console][dc] for
applications leveraging Server Authentication with <Link href="/guides/authentication/jwt">JWT)</Link> or
<Link href="/guides/authentication/client-credentials">Client Credentials Grant</Link>. This setting determines the
<Link href="/platform/user-types">types of users</Link> that can be used with the application. The two
options are **app access only** or **app + enterprise access**.

Upon <Link href="/guides/authorization">authorizing</Link> one of these applications in the Box Admin Console, a
<Link href="/platform/user-types/#service-account">Service Account</Link> (`AutomationUser_xxxx_@boxdevedition.com`)
representing the application is automatically generated. This account is an
Admin-like user that can only be accessed via the API and can then be used to
create user’s of the application called <Link href="/platform/user-types/#app-user">App Users</Link>. If an application
only needs to interact with the Service Account and App Users,
**app only access** must be selected. If an application needs to interact with
<Link href="/platform/user-types/#managed-users">managed users</Link> and their existing Box content, app + enterprise access must
be selected.

As an example, take a JWT application that has the read/write scopes,
app only access, and is properly <Link href="/guides/authorization">authorized</Link> in the Admin console. If a
managed user obtains an Access Token and makes an API call to a folder they own,
that call would receive a 400 error with the message “Cannot obtain token based
on the enterprise configuration for your app”. Even though the user has access
to the content, the correct scopes are enabled and the app is authorized,
the selected application access only allows the application to interact with the
Service Account and App Users.

## Enterprise settings and authorization

There are a few enterprise settings to be aware of when it comes to the Box API.

<Frame center shadow border>
![Global Integration Settings](/images/guides/security/global_integration_settings.png)
</Frame>

Platform applications fall into two categories: published and unpublished.
Published applications are found in the [Box Integrations][appcenter]. Box
Admins decide whether published and unpublished application are enabled by
default and therefore can be used without approval. The status of these settings
determines what actions are necessary to successfully <Link href="/guides/authorization">authorize</Link> an
application for use.

<Frame center shadow border>
![Admin Console Apps Tab](/images/guides/security/jwt_apps_cam.png)
</Frame>

Regardless of the settings above, in order for an application leveraging
<Link href="/guides/authentication/jwt">JWT</Link> or <Link href="/guides/authentication/client-credentials">Client Credentials Grant</Link> to be used by an enterprise, an
Admin must explicitly <Link href="/guides/authorization">authorize</Link> it via the Box Admin console. The
authorization is a snapshot in time.  This means that if a developer revisits
the Developer Console and changes the configuration, the Admin must re-authorize
the application in order for generated Access Tokens to reflect the changes.

If the setting **Disable unpublished apps by default** is turned on, an Admin
must also explicitly <Link href="/guides/authorization">enable</Link> any application leveraging
<Link href="/guides/authentication/oauth2">OAuth 2.0</Link> as the authentication method.

Additionally, if this setting is turned on, Server Authenticated apps will also
require enablement.

{/* i18n-enable localize-links */}
[perm]: https://support.box.com/hc/en-us/articles/360044196413-Understanding-Collaborator-Permission-Levels
[waterfall]: https://support.box.com/hc/en-us/articles/360043697254-Understanding-Folder-Permissions
{/* i18n-disable localize-links */}
{/* i18n-enable localize-links */}
[coadminperm]: https://support.box.com/hc/en-us/articles/360044194393-Granting-And-Modifying-Co-Admin-Permissions
[dc]: https://app.box.com/developers/console
{/* i18n-disable localize-links */}
/platform-app-approval
{/* i18n-enable localize-links */}
[appcenter]: https://app.box.com/services
{/* i18n-disable localize-links */}
